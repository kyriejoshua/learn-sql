# 第四章 数据更新

## 数据的插入

###  INSERT 语句的基本用法

#### INSERT INTO 表名 (列名) VALUES (值名)

### 原则上，执行一次 INSERT 语句会插入一行数据

### 对表进行全列 INSERT 时，列清单可以省略

### 在没有 NOT NULL 约束下的列，可以插入 NULL

### 可以通过设置 DEFAULT 的方式来设置默认值

#### 省略 INSERT 语句中的列名，就会自动设定为该列的默认值，没有默认值的时候则是 NULL

### 可以使用 INSERT...SELECT 来实现复制表数据

### INSERT 语句的 SELECT 语句中，可以使用 WHERE 子句或者 GROUP BY 子句等任何SQL语法，但使用 ORDER BY 并不会有效果

## 数据的删除

### DROP TABLE 和 DELETE 语句

#### DROP TABLE 会将表完全删除

#### DELETE 会将数据全部删除，但是留下表

#### DELETE FROM 表名

####  DELETE 语句的删除对象并不是表或者列，而是记录(行)。

#### 删除部分行数据的搜索型 DELETE

*  DELETE FROM <表名> WHERE <条件>;
*  可以通过 WHERE 子句指定对象条件来删除部分数据。

## 数据的更新

### UPDATE 语句的基本用法

#### UPDATE <表名> SET <列名> = <表达式>;

###  指定条件的 UPDATE 语句(搜索型 UPDATE)

#### UPDATE <表名> SET <列名> = <表达式> WHERE <条件>;

### 可以使用 NULL 进行更新

####  使用UPDATE语句可以将值清空为NULL(但只限于未设置NOT NULL约束的列)。

### 可以进行多列更新

## 事务

### 事务是需要在同一个处理单元中执行的一系列更新处理的集合。

### 创建事务在不同 DBMS 中的方式不同

#### START TRANSACTION / BEGIN TRANSACTION / 或者不写

### 通过 COMMIT 来提交

#### 虽然我们可以不清楚事务开始的时间点，但是在事务结束时一定要仔细进行确认。

### ROLLBACK 取消处理

### ACID 特性

#### 原子性

* 事务结束时，所包含的更新处理要么全部执行，要么全部不执行。

#### 一致性

* 指的是事务中包含的处理要满足数据库提前设置的约束。

#### 隔离性

* 不同事务之间互不干扰的特性

#### 持久性

* 事务在不管提交还是回滚结束后，DBMS 能够保证时间点的数据状态会被保存的特性。
