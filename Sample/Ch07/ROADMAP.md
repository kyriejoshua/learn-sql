# 第七章 集合运算

## 表的加减法

### 定义：对满足同一规则的记录进行的加减等四则运算

### 表的加法 UNION

#### 集合运算符会除去重复的记录

### 集合运算的注意事项

#### 作为运算对象的记录的列数必须相同

#### 作为运算对象的记录中列的类型必须一致

#### 可以使用任何 SELECT语句，但 ORDER BY 子句只能在最后使用一次。

### 包含重复行的集合运算 ALL 选项

#### 在集合运算符中使用 ALL 选项，可以保留重复行

### 选取表中公共部分 INTERSECT

#### 在集合运算符中使用 ALL 选项，可以保留重复行

### 记录的减法 EXCEPT

#### 得到的是前者除去后者的剩余的部分

## 联结

### 定义：将其他表中的列添加过来，进行”添加列“的运算，该操作通常用于无法从一张表中获取期望数据（列）的情况

### 内联结 INNER JOIN

#### 进行联结时需要在 FROM 子句中使用多张表

#### 进行内联结时必须使用 ON 子句，并且要书写在 FROM 和 WHERE 之间。

#### 使用内联结时 SELECT 子句中的列需要按照”表的别名 列名“的格式进行书写

#### 要点

* FROM 子句
* ON 子句
* SELECT 子句中指定的列

### 外联结 OUTER JOIN

#### 外联结中使用 LEFT，RIGHT 来指定主表。使用二者所得到的结果完全相同。

#### 要点

* 选出单张表中全部的信息
* 选定一张表作为主表

### 三张以上的表的联结

#### 在 ON 之后继续使用 INNER JOIN/OUTER JOIN

### 交叉联结 CROSS JOIN

#### 使用场景不多

* 结果没有实际价值
* 数据量较大，比较耗费性能，可读性差

### 联结的特定语法和过时语法

#### 使用 WHERE 和 AND 来实现

#### 对于联结的过时语法和特定语法，虽然不建议使用，但还是希望各位能够理解。

#### 三个缺点

* 使用这个写法无法直观判断出到底是内联结还是外联结
* 联结条件写在 WHERE 里面无法判断哪些是联结条件，哪些是限制条件
* 这个语法不知道未来还会支持多久
